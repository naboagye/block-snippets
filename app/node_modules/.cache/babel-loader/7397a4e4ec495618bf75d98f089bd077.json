{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useScrollingIntent;\n\nvar _react = require(\"react\");\n\nvar _useWindowScrolling = _interopRequireDefault(require(\"./useWindowScrolling\"));\n\nvar resolveElementRef = function resolveElementRef(ref) {\n  if (typeof ref === 'function') {\n    var ret = ref();\n    return ret && ret.current;\n  }\n\n  return ref && ref.current;\n};\n\nfunction useScrollingIntent(params) {\n  var callback = params.callback,\n      isListening = params.isListening,\n      triggerElementRef = params.triggerElementRef,\n      _params$threshold = params.threshold,\n      threshold = _params$threshold === void 0 ? 20 : _params$threshold;\n  var horizontalPosition = (0, _react.useRef)();\n  var verticalPosition = (0, _react.useRef)();\n  (0, _react.useEffect)(function () {\n    if (isListening) {\n      if (triggerElementRef) {\n        var target = resolveElementRef(triggerElementRef);\n\n        var _target$getBoundingCl = target.getBoundingClientRect(),\n            top = _target$getBoundingCl.top,\n            left = _target$getBoundingCl.left;\n\n        verticalPosition.current = top;\n        horizontalPosition.current = left;\n      } else {\n        verticalPosition.current = window.scrollY;\n        horizontalPosition.current = window.scrollX;\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isListening]);\n  (0, _useWindowScrolling[\"default\"])(function (event) {\n    if (triggerElementRef) {\n      var target = resolveElementRef(triggerElementRef);\n\n      var _target$getBoundingCl2 = target.getBoundingClientRect(),\n          top = _target$getBoundingCl2.top,\n          left = _target$getBoundingCl2.left;\n\n      var hasScrolledVertically = Math.abs(top - verticalPosition.current) > threshold;\n      var hasScrolledHorizontally = Math.abs(left - horizontalPosition.current) > threshold;\n\n      if (hasScrolledVertically || hasScrolledHorizontally) {\n        callback(event);\n      }\n    } else {\n      var _hasScrolledVertically = Math.abs(window.scrollY - verticalPosition.current) > threshold;\n\n      var _hasScrolledHorizontally = Math.abs(window.scrollX - horizontalPosition.current) > threshold;\n\n      if (_hasScrolledVertically || _hasScrolledHorizontally) {\n        callback(event);\n      }\n    }\n  }, isListening);\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","useScrollingIntent","_react","_useWindowScrolling","resolveElementRef","ref","ret","current","params","callback","isListening","triggerElementRef","_params$threshold","threshold","horizontalPosition","useRef","verticalPosition","useEffect","target","_target$getBoundingCl","getBoundingClientRect","top","left","window","scrollY","scrollX","event","_target$getBoundingCl2","hasScrolledVertically","Math","abs","hasScrolledHorizontally","_hasScrolledVertically","_hasScrolledHorizontally"],"sources":["/Users/The5AMDev/web3/gif-portal-starter/node_modules/@rainbow-modules/hooks/lib/useScrollingIntent.js"],"sourcesContent":["\"use strict\";var _interopRequireDefault=require(\"@babel/runtime/helpers/interopRequireDefault\");Object.defineProperty(exports,\"__esModule\",{value:true});exports[\"default\"]=useScrollingIntent;var _react=require(\"react\");var _useWindowScrolling=_interopRequireDefault(require(\"./useWindowScrolling\"));var resolveElementRef=function resolveElementRef(ref){if(typeof ref==='function'){var ret=ref();return ret&&ret.current;}return ref&&ref.current;};function useScrollingIntent(params){var callback=params.callback,isListening=params.isListening,triggerElementRef=params.triggerElementRef,_params$threshold=params.threshold,threshold=_params$threshold===void 0?20:_params$threshold;var horizontalPosition=(0,_react.useRef)();var verticalPosition=(0,_react.useRef)();(0,_react.useEffect)(function(){if(isListening){if(triggerElementRef){var target=resolveElementRef(triggerElementRef);var _target$getBoundingCl=target.getBoundingClientRect(),top=_target$getBoundingCl.top,left=_target$getBoundingCl.left;verticalPosition.current=top;horizontalPosition.current=left;}else{verticalPosition.current=window.scrollY;horizontalPosition.current=window.scrollX;}}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[isListening]);(0,_useWindowScrolling[\"default\"])(function(event){if(triggerElementRef){var target=resolveElementRef(triggerElementRef);var _target$getBoundingCl2=target.getBoundingClientRect(),top=_target$getBoundingCl2.top,left=_target$getBoundingCl2.left;var hasScrolledVertically=Math.abs(top-verticalPosition.current)>threshold;var hasScrolledHorizontally=Math.abs(left-horizontalPosition.current)>threshold;if(hasScrolledVertically||hasScrolledHorizontally){callback(event);}}else{var _hasScrolledVertically=Math.abs(window.scrollY-verticalPosition.current)>threshold;var _hasScrolledHorizontally=Math.abs(window.scrollX-horizontalPosition.current)>threshold;if(_hasScrolledVertically||_hasScrolledHorizontally){callback(event);}}},isListening);}"],"mappings":"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"},"metadata":{},"sourceType":"script"}