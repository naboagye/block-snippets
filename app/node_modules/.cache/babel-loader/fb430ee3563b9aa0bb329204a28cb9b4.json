{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useKeyboardNavigation;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = require(\"react\");\n\nvar _constants = require(\"../../../../libs/constants\");\n\nvar _getNewIndex = _interopRequireDefault(require(\"../helpers/getNewIndex\"));\n\nvar _isOptionVisible = _interopRequireDefault(require(\"../../../InternalDropdown/helpers/isOptionVisible\"));\n\nfunction useKeyboardNavigation(country, list, ref, scrollableRef, itemsRef, handleCountryChange) {\n  var activeIndex = (0, _react.useRef)(0);\n  var length = list.length;\n  var handleActiveChange = (0, _react.useCallback)(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', false);\n    }\n\n    if (newItem) {\n      itemsRef.current[newIndex].setAttribute('aria-selected', true);\n      activeIndex.current = newIndex;\n    }\n  }, [itemsRef]);\n  var moveToOption = (0, _react.useCallback)(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem && newItem) {\n      if (!(0, _isOptionVisible[\"default\"])(newItem, scrollableRef.current)) {\n        var amount = newItem.offsetTop - currentItem.offsetTop;\n        scrollableRef.current.scrollBy(0, amount);\n      }\n\n      handleActiveChange(newIndex);\n    }\n  }, [handleActiveChange, itemsRef, scrollableRef]);\n  var handleKeyDown = (0, _react.useCallback)(function (event) {\n    if ([_constants.UP_KEY, _constants.DOWN_KEY, _constants.ENTER_KEY, _constants.HOME_KEY, _constants.END_KEY].indexOf(event.keyCode) !== -1) {\n      var _keyHandlerMap;\n\n      event.preventDefault();\n      var active = activeIndex.current;\n      var keyHandlerMap = (_keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.UP_KEY, function () {\n        return moveToOption((0, _getNewIndex[\"default\"])(active - 1, length));\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.DOWN_KEY, function () {\n        return moveToOption((0, _getNewIndex[\"default\"])(active + 1, length));\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.HOME_KEY, function () {\n        return moveToOption(0);\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.END_KEY, function () {\n        return moveToOption(length - 1);\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.ENTER_KEY, function () {\n        return list[active] && handleCountryChange(list[active]);\n      }), _keyHandlerMap);\n      keyHandlerMap[event.keyCode]();\n    }\n  }, [handleCountryChange, length, list, moveToOption]);\n  (0, _react.useEffect)(function () {\n    var element = ref.current || window;\n    element.addEventListener('keydown', handleKeyDown);\n    return function () {\n      element.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown, ref]);\n  (0, _react.useEffect)(function () {\n    handleActiveChange(0);\n\n    if (scrollableRef.current && scrollableRef.current.scrollTo) {\n      scrollableRef.current.scrollTo(0, 0);\n    }\n\n    activeIndex.current = 0;\n  }, [country, handleActiveChange, itemsRef, length, scrollableRef]);\n  (0, _react.useEffect)(function () {\n    var currentItem = itemsRef.current[activeIndex.current];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', true);\n    }\n  });\n  return handleActiveChange;\n}","map":{"version":3,"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","useKeyboardNavigation","_defineProperty2","_react","_constants","_getNewIndex","_isOptionVisible","country","list","ref","scrollableRef","itemsRef","handleCountryChange","activeIndex","useRef","length","handleActiveChange","useCallback","newIndex","currentItem","current","newItem","setAttribute","moveToOption","amount","offsetTop","scrollBy","handleKeyDown","event","UP_KEY","DOWN_KEY","ENTER_KEY","HOME_KEY","END_KEY","indexOf","keyCode","_keyHandlerMap","preventDefault","active","keyHandlerMap","useEffect","element","window","addEventListener","removeEventListener","scrollTo"],"sources":["/Users/The5AMDev/web3/gif-portal-starter/node_modules/react-rainbow-components/components/PhoneInput/countriesDropdown/hooks/useKeyboardNavigation.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = useKeyboardNavigation;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = require(\"react\");\n\nvar _constants = require(\"../../../../libs/constants\");\n\nvar _getNewIndex = _interopRequireDefault(require(\"../helpers/getNewIndex\"));\n\nvar _isOptionVisible = _interopRequireDefault(require(\"../../../InternalDropdown/helpers/isOptionVisible\"));\n\nfunction useKeyboardNavigation(country, list, ref, scrollableRef, itemsRef, handleCountryChange) {\n  var activeIndex = (0, _react.useRef)(0);\n  var length = list.length;\n  var handleActiveChange = (0, _react.useCallback)(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', false);\n    }\n\n    if (newItem) {\n      itemsRef.current[newIndex].setAttribute('aria-selected', true);\n      activeIndex.current = newIndex;\n    }\n  }, [itemsRef]);\n  var moveToOption = (0, _react.useCallback)(function (newIndex) {\n    var currentItem = itemsRef.current[activeIndex.current];\n    var newItem = itemsRef.current[newIndex];\n\n    if (currentItem && newItem) {\n      if (!(0, _isOptionVisible[\"default\"])(newItem, scrollableRef.current)) {\n        var amount = newItem.offsetTop - currentItem.offsetTop;\n        scrollableRef.current.scrollBy(0, amount);\n      }\n\n      handleActiveChange(newIndex);\n    }\n  }, [handleActiveChange, itemsRef, scrollableRef]);\n  var handleKeyDown = (0, _react.useCallback)(function (event) {\n    if ([_constants.UP_KEY, _constants.DOWN_KEY, _constants.ENTER_KEY, _constants.HOME_KEY, _constants.END_KEY].indexOf(event.keyCode) !== -1) {\n      var _keyHandlerMap;\n\n      event.preventDefault();\n      var active = activeIndex.current;\n      var keyHandlerMap = (_keyHandlerMap = {}, (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.UP_KEY, function () {\n        return moveToOption((0, _getNewIndex[\"default\"])(active - 1, length));\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.DOWN_KEY, function () {\n        return moveToOption((0, _getNewIndex[\"default\"])(active + 1, length));\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.HOME_KEY, function () {\n        return moveToOption(0);\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.END_KEY, function () {\n        return moveToOption(length - 1);\n      }), (0, _defineProperty2[\"default\"])(_keyHandlerMap, _constants.ENTER_KEY, function () {\n        return list[active] && handleCountryChange(list[active]);\n      }), _keyHandlerMap);\n      keyHandlerMap[event.keyCode]();\n    }\n  }, [handleCountryChange, length, list, moveToOption]);\n  (0, _react.useEffect)(function () {\n    var element = ref.current || window;\n    element.addEventListener('keydown', handleKeyDown);\n    return function () {\n      element.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown, ref]);\n  (0, _react.useEffect)(function () {\n    handleActiveChange(0);\n\n    if (scrollableRef.current && scrollableRef.current.scrollTo) {\n      scrollableRef.current.scrollTo(0, 0);\n    }\n\n    activeIndex.current = 0;\n  }, [country, handleActiveChange, itemsRef, length, scrollableRef]);\n  (0, _react.useEffect)(function () {\n    var currentItem = itemsRef.current[activeIndex.current];\n\n    if (currentItem) {\n      currentItem.setAttribute('aria-selected', true);\n    }\n  });\n  return handleActiveChange;\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}